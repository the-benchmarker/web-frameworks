language:
  version: ES2019

  engines:
    node:
      environment:
        NODE_ENV: production
      bootstrap:
        - npm --location=global install pm2
        - npm install
      command: pm2-runtime start app.js -i $(nproc)
    turbo:
      environment:
        NODE_ENV: production
      bootstrap:
        - npm install
      command: node app.js
    uwebsockets:
      deps:
        - git
      environment:
        NODE_ENV: production
        EXPERIMENTAL_FASTCALL: 1
      bootstrap:
        - npm --location=global install pm2
        - npm install
      command: pm2-runtime start app.js -i max
    deno:
      deps:
        - npm
      bootstrap:
        - npm --location=global install pm2
      command: pm2 start app.ts --interpreter="deno" --interpreter-args="run --allow-net" -i max
    bun:
      bootstrap:
        - bun install pm2
      command: /usr/src/app/node_modules/pm2/bin/pm2 start --interpreter /usr/local/bin/bun app.ts -i max
    happyx:
      bootstrap:
        - npm install
      command: node app.js

framework:
  engines:
    - node

  files:
    - '**/*.js'
    - '**/*.ts'
    - '**/*.json'
